---
title: "MB5370 Module 4 - QFISH_report"
author: "Tory Pritchard"
date: "2024-05-16"
output: html_document
---

#____________________________________________________________________________

Workspace/Rmd file location
C:/Users/Admin/OneDrive/Documents/MB5370/Module_04/Mod4_Personal/QFISH_report.Rmd
File also in Git hub!

Description: This assignment uses real-world marine data collected as part of Queensland fisheries QFISH database to develop a report.

#____________________________________________________________________________

```{r setup, include=FALSE}
knitr::opts_chunk$set(
	echo = TRUE,
	message = FALSE,
	warning = FALSE
)
```

load required packages
```{r}
library(DataViz)
library(palmerpenguins)
library(ggthemes)
library(readr)
library(tidyverse)
```


### Part 1: Obtain data

Data was obtained from the Department of Agriculture and Fisheries website under QFish. The chosen data set was:
[Commercial Line Fishery](https://qfish.fisheries.qld.gov.au/query/commercial-line-fishery/table)

Before downloading the data, in the `Customize` tab, the `FishingMethod` was moved to `Row Area` to remove the data from the `Filter Area`. 

Data was exported as Comma Separated Values (CSV) and saved in Github repo [Mod4_Personal](https://github.com/tkpritch/Mod4_Personal.git)


### Part 2: Tidy data

Import dataset
```{r echo=FALSE, message=FALSE, warning=FALSE, include=FALSE}
shark <- read_csv("../data/sharkdatacustom.csv")
```



Import dataset
```{r}
fishmethod <- read_csv("C:/Users/Admin/Downloads/export.csv")
```

```{r}
filtered_fishmethod <- fishmethod %>%
  filter(!grepl("Total", CalendarYear)) %>%
  filter(CalendarYear != "2024 incomplete") %>%
  mutate_all(~ ifelse(. == "N/A", NA, .)) %>%
  mutate_all(~ ifelse(is.na(.), 0, .))
```




```{r}
filtered_fishmethod$Tonnes <- as.numeric(gsub("[,]", "", filtered_fishmethod$Tonnes))
```

Since the columns of data had character and numeric values in the cells, mutate the data to assign the proper variable type to the rows.
```{r}
filtered_fishmethod <- filtered_fishmethod %>%
  mutate(Tonnes = as.numeric(Tonnes),
         CalendarYear = as.numeric(CalendarYear))

#exclude the fishing methods that are 0s
# List of fishing methods to exclude
methods_to_exclude <- c("Trap", "Other", "Diving", "Danish Seine", "Collection")

# Filter out the methods you want to exclude
filtered_method <- filtered_fishmethod %>%
  filter(!FishingMethod %in% methods_to_exclude)

ggplot(data = filtered_meth) +
  geom_line(aes(x = CalendarYear, y = Tonnes, colour = FishingMethod)) +
  labs(x= "Year") +
  scale_y_continuous(breaks = seq(0, 15000, by = 2500))
```



### Part 3: Plot 

![Shark Control Program](QFISHplot.png)

*detailed caption of what plot shows